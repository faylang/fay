<!doctype html>
<html>
  <head>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'>

    <script type="text/javascript" src="FayFromJs.js"></script>
    </script>
    <script>
      function print(label, v)
      {
        var div = document.createElement("div");
        div.innerHTML = label + JSON.stringify(v);
        document.body.appendChild(div);
      }

      function UnFay(fay)
      {
        while(Fay$$$.prototype.isPrototypeOf(fay))
          fay=fay.value();

        return fay;
      }

      window.onload = function () {
        var V = FayFromJs;
        // Constant
        print("aVector = ", UnFay(V.aVector));
        // Simple function calls
        print("|aVector| = ", UnFay(V.len(V.aVector)));
        // Arguments are deserialized from JSON using Automatic.
        print("|[10, 20]| = ", UnFay(V.len(new V._Vector (10, 20) )));
        // Call with uncurried arguments
        // Return values are serialized to the JSON format using Automatic.
        print( "aVector + [10, 20] = "
             , UnFay(V.add(V.aVector)(V.Vector (10)(20) )));
        // Curried call is also fine
        print( "aVector + [10, 20] = "
             , V.add(V.aVector)(new V._Vector (10, 20) ).value().value()); // istead of UnFay we are using .value().value()
      };
    </script>
  </head>
  <body>
  </body>
</html>
